version: '3.4'
services:
{% for index in range(10) %}
    csgoserver{{ index }}:
        image: "raks321/linuxgsm-docker:latest"
        container_name: csgoserver{{ index }}
        environment:
            - GAMESERVER=csgoserver
            - 
            - LGSM_GITHUBUSER=GameServerManagers
            - LGSM_GITHUBREPO=LinuxGSM
            - LGSM_GITHUBBRANCH=master
        volumes:
            - /home/csgoserver/server/serverfiles:/home/linuxgsm/serverfiles
            - /home/csgoserver/server/log:/home/linuxgsm/log
            - /home/csgoserver/server/config-lgsm:/home/linuxgsm/lgsm/config-lgsm
            - /home/csgoserver/server/csgoserver:/home/linuxgsm
        ports:
            - "2701{{ index }}:2701{{ index }}/tcp"
            - "2701{{ index }}:2701{{ index }}/udp"
            - "2712{{ index }}:2712{{ index }}/udp"
            - "2720{{ index }}:2720{{ index }}/udp"
        restart: unless-stopped
{% endfor %}